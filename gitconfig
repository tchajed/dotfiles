# vim: ts=2:sw=2
# Core configuration
[user]
  name = Tej Chajed
  email = tchajed@mit.edu
  signingKey = C59DA7E160BF50D5EF25ACB0A5CD04BD8ED49551
[github]
  user = tchajed
[init]
  templatedir = ~/.git_template
[commit]
  gpgsign = true
[gpg]
  program = gpg

# Better behavior
[core]
  excludesfile = ~/.gitignore_global
  editor = nvim
  pager = diff-so-fancy | less --tabs=4 -RFX
[credential]
  helper = osxkeychain

# Chrome
[alias]
  wat     = !~/.dotfiles/bin/git-wat
  rank-contributors = !~/.dotfiles/bin/git-rank-contributors
  count   = !git shortlog -sn
  # from https://blog.scottnonnenberg.com/better-git-configuration
  # good for one-line messages
  glog = log --graph --pretty=format:'%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue)<%an>%Creset'
  # today and graph are from
  # https://csswizardry.com/2017/05/little-things-i-like-to-do-with-git/
  today = log --author=\"Tej Chajed\" --since=03:00:00 --all --no-merges --oneline
  graph = log --author=\"Tej Chajed\" --graph --all --decorate --stat --date=iso
  dayswork = diff --stat 'HEAD@{today.3am}'
  root = rev-parse --show-toplevel

  # handling submodules
  # update fixes the working copy of every submodule
  update-submodules = submodule update --init --recursive
  # upgrade causes all submodules to refer to the latest upstream commit
  # (which you can then commit)
  upgrade-submodules = submodule update --init --remote
[color]
  ui = true
[diff-so-fancy]
  first-run = false
[diff]
  # see https://blog.github.com/2018-04-05-git-217-released/
  compactionHeuristic = on
  # see https://blog.github.com/2018-04-05-git-217-released/
  # consider zebra (the default when colorMoved is used), which has distinctive
  # colors but too many
  colorMoved = dimmed_zebra
[rebase]
  autosquash = true
[submodule]
  # fetch in parallel
  fetchJobs = 4
	recurse = true
[url "ssh://git@github.com/"]
  insteadOf = https://github.com/
[url "ssh://git@github.mit.edu/"]
  insteadOf = https://github.mit.edu/
[pull]
	rebase = true
